{"pageContext":{"posts":[{"excerpt":"Those nasty branches Have you already coded or debugged 2000 lines of if/then/else with crazy unreadable conditions? Have you raged at the moment your nice switch statement didn't scaled because you needed to add an if statement in one of the case…","html":"<h3 id=\"those-nasty-branches\"><a href=\"#those-nasty-branches\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Those nasty branches</h3>\n<p>Have you already coded or debugged 2000 lines of if/then/else with crazy unreadable conditions? Have you raged at the moment your nice switch statement didn't scaled because you needed to add an if statement in one of the case?</p>\n<p>Well, looks like Lodash can AGAIN help you.</p>\n<h3 id=\"about-lodash\"><a href=\"#about-lodash\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>About Lodash</h3>\n<p>Lodash is utility library used in a huge number of teams and is over 20M downloads per week at this moment. It provides a ton of small and powerfull algorithmic tools to avoid developpers to reimplement (often badly) the same logic all over again.</p>\n<p>Furthermore it's also drive people to embrace a more functional programming style. There's a ton of reading about the benefits of FP in JavaScript and I'm not going to redo the same thing as countless medium articles by explaining how map/reduce/filter can help clean an improve your codebase. Once embraced, it's hard not to go too far on the FP bandwagon and harass your coworkers with Monads all day long.\nIf you haven't read those, please do (some links below) and don't come back here until you understand what is a pure function and the basic FP tooling like filter, map or reduce.</p>\n<p>By using heavily the FP variant of Lodash in my team, we try to be on a sweet spot between classic imperative programming and too aggressive FP libs that require more theorical knowledge, resulting in difficult recruitement and longer onboarding. The benefit of the FP variant will be addressed hopefully in another blogpost.</p>\n<h3 id=\"cond-is-a-switch-statement-on-steroïds\"><a href=\"#cond-is-a-switch-statement-on-stero%C3%AFds\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cond is a switch statement on steroïds</h3>\n<p>Today we're going to focus on a little known but super powerfull Lodash function: cond.</p>\n<p>You can think of cond as a super if, a switch statement on steroïds, or as the FP universe would call it an entry to Pattern Matching which might be added to JavaScript language itself soon (<a href=\"https://github.com/tc39/proposal-pattern-matching\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/tc39/proposal-pattern-matching</a>).</p>\n<p>Please take 30 seconds to read the <a href=\"https://lodash.com/docs/4.17.11#cond\" title=\"It&#x27;s short, read it really\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Lodash documentation</a> and let's continue.</p>\n<p>Are we good? Ok let's see the usage. cond works with a list of predicate/functions pairs. for the first truthy predicate, it calls the function with the same arguments and return the result, simple.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">predicate1</span> <span class=\"token operator\">=</span> aNumber <span class=\"token operator\">=></span> <span class=\"token function\">isEven</span><span class=\"token punctuation\">(</span> aNumber <span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">function1</span> <span class=\"token operator\">=</span> input <span class=\"token operator\">=></span> input <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">predicate2</span> <span class=\"token operator\">=</span>  aNumber  <span class=\"token operator\">=></span> <span class=\"token function\">isOdd</span><span class=\"token punctuation\">(</span>aNumber  <span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">function2</span> <span class=\"token operator\">=</span>  input <span class=\"token operator\">=></span> input <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> myFirstCond <span class=\"token operator\">=</span> <span class=\"token function\">cond</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span>predicate1 <span class=\"token punctuation\">,</span>function1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span>predicate2 <span class=\"token punctuation\">,</span>function2<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">myFirstCond</span><span class=\"token punctuation\">(</span><span class=\"token number\">13</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// returns 26</span>\n<span class=\"token function\">myFirstCond</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// returns 5</span></code></pre></div>\n<p>So far it looks a lot like a switch statement that is doing more than defining a control flow for different values of a variable. Another look at it could be a series of if then else all sharing the same API, in a more compact way.\nIt should already ring a bell that using the same arguments for the predicate and the function has a lot of potential. </p>\n<p>Let's move now to a problem solving example using cond. It's time for my first ever FizzBuzz exercise (true story). As I avoided for too long the infamous tech interview exercise, we will implement three times the FizzBuzz using suble variations of cond usage.</p>\n<p>Let's define first a list of predicates and execution functions. See how easy it is to write unit tests for those because of their API and purity.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isMultipleOf3</span> <span class=\"token operator\">=</span> input <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>input <span class=\"token operator\">%</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isMultipleOf5</span> <span class=\"token operator\">=</span> input <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>input <span class=\"token operator\">%</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">isMultipleOf5And3</span> <span class=\"token operator\">=</span> input <span class=\"token operator\">=></span> <span class=\"token function\">isMultipleOf3</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">isMultipleOf5</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">outputFizz</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token string\">\"Fizz\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// _.constant(\"Fizz\")</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">outputBuzz</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token string\">\"Buzz\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">outputFizzBuzz</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token string\">\"FizzBuzz\"</span><span class=\"token punctuation\">;</span> \n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">otherwise</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//_.stubTrue</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">outputNumber</span> <span class=\"token operator\">=</span> number <span class=\"token operator\">=></span> number <span class=\"token comment\">// _.identity </span></code></pre></div>\n<p>Please note the naming strategy. In this first implementation we are trying to describe in plain english the conditions associated with each output. In this specific case, this is describing strongly the implementation. This works great until the conditions are too complex to be explained in a short readable function name. The isMultipleOf5And3 is hinting at the limit. If you work enough on business names for your functions you won't encounter the problem that much. The inability to find a business name for a case is a warning light. perhaps your case is not correct.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> fizzBuzz1 <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">cond</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">[</span>isMultipleOf5And3<span class=\"token punctuation\">,</span> outputFizzBuzz<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>isMultipleOf3<span class=\"token punctuation\">,</span> outputFizz<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>isMultipleOf5<span class=\"token punctuation\">,</span> outputBuzz<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>otherwise<span class=\"token punctuation\">,</span> outputNumber <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> first100Number <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">101</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nfirst100Numbers<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>fizzBuzz1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Boom it reads nicely doesn't it?</p>\n<p>Our FizzBuzz1 leverages nicely the first truthy => first executed pair. This is often great but at scale, it creates an integration risk when the link between the predicate and its mate is not strong enough. In FizzBuzz1, the [isMultipleOf3, outputFizz] pair only work because isMultipleOf5And3 case is handled above.</p>\n<p>In order to solve this problem, we will work on FizzBuzz2. By adding more business responsability to the name of the predicate we are making sure that their implementation force decoupling between the case.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">shouldFireFizzBuzz</span> <span class=\"token operator\">=</span> input <span class=\"token operator\">=></span> <span class=\"token function\">isMultipleOf3</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">isMultipleOf5</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">shouldFireFizz</span> <span class=\"token operator\">=</span> input <span class=\"token operator\">=></span> <span class=\"token function\">isMultipleOf3</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token function\">isMultipleOf5</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token comment\">// Bonus: const isNotMultipleOf5 = _.negate(isMultipleOf5);</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">shouldFireBuzz</span> <span class=\"token operator\">=</span> input <span class=\"token operator\">=></span> <span class=\"token function\">isMultipleOf5</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token function\">isMultipleOf3</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">shouldReturnInput</span> <span class=\"token operator\">=</span> input <span class=\"token operator\">=></span> <span class=\"token operator\">!</span><span class=\"token function\">isMultipleOf5</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token function\">isMultipleOf3</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The order of the pairs doesn't matter anymore as all predicates are mutually exclusives. Please note that there's no more need for a default handling (otherwise). Pattern matching implementation often differ about whether handling default is a good or bad thing. Lodash is flexible and you can treat the default case as an error if you want.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> fizzBuzz2 <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">cond</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">[</span>shouldFireFizzBuzz<span class=\"token punctuation\">,</span> outputFizzBuzz<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>shouldFireFizz<span class=\"token punctuation\">,</span> outputFizz<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>shouldFireBuzz<span class=\"token punctuation\">,</span> outputBuzz<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>shouldReturnInput<span class=\"token punctuation\">,</span> outputNumber <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Let's point free the console.log, we're using only the first argument. Most of the time in FP thinking we love unaries. This is one of the reason why the FP variant with currying and different argument order is more powerful. Please note that our cond study works with both variant.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> logIt <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">unary</span><span class=\"token punctuation\">(</span>console<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">)</span>\nfirst100Numbers<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>fizzBuzz2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>logIt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>One of the nice thing with cond is because of the common API, it's easy to compose cond together. The FizzBuzz3 example will explore the possibility of nesting conds to allow more complex control flows to split into different concerns.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> transformMultipleOf3 <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">cond</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">[</span>isMultipleOf5<span class=\"token punctuation\">,</span> outputFizzBuzz<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>otherwise<span class=\"token punctuation\">,</span> outputFizz<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> transformMultipleOf5 <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">cond</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">[</span>isMultipleOf3<span class=\"token punctuation\">,</span> outputFizzBuzz<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>otherwise<span class=\"token punctuation\">,</span> outputBuzz<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> fizzBuzz3 <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">cond</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">[</span>isMultipleOf3<span class=\"token punctuation\">,</span> transformMultipleOf3<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>isMultipleOf5<span class=\"token punctuation\">,</span> transformMultipleOf5<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>otherwise<span class=\"token punctuation\">,</span> outputNumber <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>As we can see all the branches of our nested cond are testable independently. It's interesting to see that some branches of our control flow arrive to the same outputFizzBuzz function. Very often when using if then else, we DRY things too much only to see our nice DRYed code explode after a requirement change. This is not going to happen here.</p>\n<p>Let's get a bit fancier with the execution using lodash/FP. It's basically the same as before.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> fizzBuzzImplementationArg <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span>placeholder\n\ntestFizzBuzzImplementation <span class=\"token operator\">=</span> <span class=\"token function\">flow</span><span class=\"token punctuation\">(</span>\n\t_<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>fizzBuzzImplementationArg<span class=\"token punctuation\">,</span> first100Numbers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t_<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>logIt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">testFizzBuzzImplementation</span> <span class=\"token punctuation\">(</span>fizzBuzz3 <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Ok I've done enough FizzBuzz for the rest of my life. To conclude this article with cond, I would like to show an example about how much function naming can help implementing requirements by staying very close to the description of your requirements.</p>\n<p>Let's take an example with the chooseAColor function. Assume that you don't know the specs, you don't know the input and output data structures and you know that all functions are unit tested. How hard it is to understand what this code does?</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> chooseBetweenSummerColors <span class=\"token operator\">=</span> <span class=\"token function\">cond</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">[</span>isItWarm<span class=\"token punctuation\">,</span> chooseWhite<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>isItWindy<span class=\"token punctuation\">,</span> chooseGreen<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>otherwise<span class=\"token punctuation\">,</span> chooseLeastUsedColor<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> chooseBetweenWinterColors <span class=\"token operator\">=</span> <span class=\"token function\">cond</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">[</span>isSkyBlue<span class=\"token punctuation\">,</span> chooseFirstColor<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>isSnowOutside<span class=\"token punctuation\">,</span> chooseBlue<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>otherwise<span class=\"token punctuation\">,</span> raiseError<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> chooseAColor<span class=\"token operator\">=</span> <span class=\"token function\">cond</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n\t<span class=\"token punctuation\">[</span>isItSummer<span class=\"token punctuation\">,</span> chooseBetweenSummerColors<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>isItWinter<span class=\"token punctuation\">,</span> chooseBetweenWinterColors<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>otherwiseMidSeason<span class=\"token punctuation\">,</span> chooseBlue<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>This illustrates how FP can improve significantly a codebase without going through complicated abstract code. This style focus a lot on what we are trying to achieve and less on the how, relegating implication as a detail.</p>","id":"73d8d499-7763-57a7-8237-f577091eb549","fields":{"slug":"clean-up-your-code-branches-with-cond"},"frontmatter":{"date":"2019-06-28","title":"Clean up your code branches with cond","category":"Code Utilities","tags":["Lodash","FP"],"banner":"/assets/bg/4.jpg"},"timeToRead":6}],"tagName":"FP"}}